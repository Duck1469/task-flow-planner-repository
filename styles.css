:root {
  --bg: #ffffff;
  --bg2: #ffffff;
  --card: #ffffff;
  --text: #0a0a0a;
  --muted: #525252;
  --border: #d4d4d4;
  --primary: #2563eb;
  --danger: #dc2626;
  --surface: #ffffff;
  --btn: #f1f5f9;
  --btn-text: #0a0a0a;
}
* { box-sizing: border-box; }
body { margin: 0; font-family: Inter, system-ui, sans-serif; background: linear-gradient(140deg, var(--bg), var(--bg2)); color: var(--text); font-size: 16px; }
body.light { --bg:#fff; --bg2:#fff; --card:#fff; --text:#000; --muted:#505050; --border:#d4d4d4; --surface:#fff; --btn:#f1f5f9; --btn-text:#0a0a0a; }
body.dark { --bg:#000; --bg2:#000; --card:#0a0a0a; --text:#f5f5f5; --muted:#d1d1d1; --border:#2f2f2f; --surface:#0a0a0a; --btn:#1f1f1f; --btn-text:#f5f5f5; }
body.light-gray { --bg:#cfd4db; --bg2:#e2e6ea; --card:#eef1f4; --text:#111827; --muted:#374151; --border:#9ca3af; --surface:#e7ebf0; --btn:#d6dce2; --btn-text:#111827; }
body.dark-gray { --bg:#1f2937; --bg2:#111827; --card:#273244; --text:#f3f4f6; --muted:#d1d5db; --border:#4b5563; --surface:#273244; --btn:#4b5563; --btn-text:#f9fafb; }
body.effect-solid { --bg2: var(--bg); }
body.effect-sunset { --bg2: color-mix(in srgb, var(--bg) 55%, #fb7185); }
body.effect-ocean { --bg2: color-mix(in srgb, var(--bg) 55%, #22d3ee); }
body.effect-aurora { --bg2: color-mix(in srgb, var(--bg) 55%, #8b5cf6); }

.app-shell { max-width: 1040px; margin: 0 auto; padding: 18px 16px 90px; }
.card-soft,.card,.stat-card { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; box-shadow: 0 8px 20px rgba(2,8,23,.08); }
.topbar { padding: 14px; }
.eyebrow { margin: 0; font-size: .75em; color: var(--primary); font-weight: 700; text-transform: uppercase; }
h1 { margin: 3px 0; font-size: 1.7em; }
.subtitle { margin: 0; color: var(--muted); }

.content-wrap { margin-top: 14px; }
.tab-panel { display:none; }
.tab-panel.active { display:block; }
.stats-grid,.settings-grid,.grid-2 { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px; }
.stat-card { padding: 12px; }
.stat-card h3 { margin: 6px 0 0; font-size: 1.2em; }
.card { padding: 14px; margin-top: 10px; }
h2 { margin: 0 0 10px; font-size: 1.2em; }
p,h4 { margin:0; }
label { display:block; color: var(--muted); font-size: .86em; }
.mt8 { margin-top:8px; }
.mt12 { margin-top:12px; }

.input { width:100%; margin-top:6px; border:1px solid var(--border); border-radius:11px; padding:10px; background:var(--card); color:var(--text); font-size:1em; appearance:none; }
.input:focus { outline: 2px solid color-mix(in srgb, var(--primary) 40%, transparent); outline-offset:1px; }
select.input, select.input option { background: var(--card); color: var(--text); }
.color { max-width:120px; padding:4px; min-height:40px; margin-top:8px; }

.row { display:flex; align-items:center; gap:10px; }
.wrap { flex-wrap:wrap; }
.gap8 { gap:8px; }
.between { justify-content:space-between; }
.end { justify-content:flex-end; }
.align-start { align-items:flex-start; }
.hidden { display:none; }

.btn { border:1px solid var(--border); border-radius:11px; background:var(--btn); color:var(--btn-text); padding:9px 12px; cursor:pointer; font-weight:600; font-size:.95em; }
.btn.primary { background: var(--primary); color:#fff; border-color: transparent; }
.btn.danger { background: var(--danger); color:#fff; border-color: transparent; }
.btn.small { font-size:.8em; padding:7px 10px; }
.btn.big { margin-top:12px; width:100%; }

.preset-row { display:flex; flex-wrap:wrap; gap:8px; margin-top:6px; }
.color-preset { width:28px; height:28px; border-radius:999px; border:2px solid var(--border); cursor:pointer; }
.color-preset.active { outline:2px solid var(--text); outline-offset:2px; }
.inline-label { display:flex; align-items:center; gap:8px; font-size:.92em; }
.custom-preset { display:flex; align-items:center; justify-content:center; font-weight:700; background:var(--card); color:var(--text); }

.weekday-group { display:flex; flex-wrap:wrap; gap:7px; margin-top:10px; }
.chip { border:1px solid var(--border); border-radius:999px; background:var(--card); color:var(--text); padding:6px 10px; cursor:pointer; }
.chip.active { background: var(--primary); color:#fff; border-color:transparent; }

.schedule-search { max-width:280px; margin-top:0; }
.compact-input { max-width: 170px; margin-top:0; }
.task-list { display:flex; flex-direction:column; gap:10px; }
.task-item { border:1px solid var(--border); border-radius:13px; padding:12px; display:grid; grid-template-columns:95px 1fr; gap:12px; background:var(--card); }
.task-item.pinned { box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--primary) 45%, transparent); }
.time-col { border-right:1px dashed var(--border); padding-right:8px; }
.task-time { font-weight:700; }
.task-repeat { font-size:.8em; }
.task-main { min-width:0; }
.dot { width:11px; height:11px; border-radius:999px; margin-top:5px; display:inline-block; }
.task-meta { margin-top:4px; }
.project-badge { font-size:.75em; border:1px solid var(--border); padding:4px 8px; border-radius:999px; color: var(--muted); }
.priority-badge { font-size:.75em; border-radius:999px; padding:4px 8px; border:1px solid var(--border); }
.priority-badge.high { background:#ef444422; border-color:#ef444455; color:#ef4444; }
.priority-badge.medium { background:#f59e0b22; border-color:#f59e0b55; color:#d97706; }
.priority-badge.low { background:#22c55e22; border-color:#22c55e55; color:#16a34a; }
.task-item.completed .task-title,.task-item.completed .task-meta { text-decoration:line-through; opacity:.75; }

.progress-track { width:100%; height:8px; border-radius:999px; background:var(--border); overflow:hidden; }
.progress-fill { height:100%; width:0; background:var(--primary); transition:width .2s ease; }

.project-manager { display:flex; flex-direction:column; gap:8px; }
.project-row { display:grid; grid-template-columns:1fr auto auto; gap:8px; align-items:center; }

.month-label { min-width:130px; text-align:center; font-weight:600; }
.calendar-grid { margin-top:12px; display:grid; grid-template-columns:repeat(7,minmax(0,1fr)); gap:7px; }
.day-cell { border-radius:10px; border:1px solid var(--border); min-height:86px; padding:8px; display:flex; flex-direction:column; justify-content:space-between; }
.day-number { font-weight:700; }
.day-score { font-size:.78em; }

.calendar-now { font-weight: 600; }
.day-cell.today { box-shadow: inset 0 0 0 2px color-mix(in srgb, var(--primary) 55%, transparent); }

.day-colors { display:flex; flex-wrap:wrap; gap:4px; }
.mini-dot { width:9px; height:9px; border-radius:999px; display:inline-block; border:1px solid rgba(255,255,255,.35); }
.muted { color: var(--muted); }

.bottom-nav { position:fixed; left:0; right:0; bottom:0; max-width:1040px; margin:0 auto; display:grid; grid-template-columns:repeat(3,1fr); gap:8px; padding:10px 14px calc(10px + env(safe-area-inset-bottom)); background:var(--surface); border-top:1px solid var(--border); }
.tab { border:1px solid var(--border); border-radius:12px; padding:14px 10px; background:var(--card); color:var(--text); cursor:pointer; font-weight:700; font-size:1.03em; }
.tab.active { background: var(--primary); color:#fff; border-color:transparent; }

@media (max-width:760px) {
  .stats-grid,.settings-grid,.grid-2 { grid-template-columns:1fr; }
  .task-item { grid-template-columns:1fr; }
  .time-col { border-right:0; border-bottom:1px dashed var(--border); padding-bottom:6px; }
  .schedule-search { max-width:100%; }
  .project-row { grid-template-columns:1fr; }
}


body.nav-down .bottom-nav { left:0; right:0; bottom:0; top:auto; grid-template-columns:repeat(3,1fr); }
body.nav-up .bottom-nav { left:0; right:0; top:0; bottom:auto; grid-template-columns:repeat(3,1fr); }
body.nav-left .bottom-nav { left:0; top:0; bottom:0; right:auto; width:92px; grid-template-columns:1fr; grid-auto-rows:min-content; align-content:start; padding-top:16px; }
body.nav-right .bottom-nav { right:0; top:0; bottom:0; left:auto; width:92px; grid-template-columns:1fr; grid-auto-rows:min-content; align-content:start; padding-top:16px; }

body.nav-up .app-shell { padding-top:86px; }
body.nav-left .app-shell { padding-left:110px; }
body.nav-right .app-shell { padding-right:110px; }

@media (max-width:760px) {
  body.nav-left .bottom-nav,
  body.nav-right .bottom-nav { width:84px; }
  body.nav-left .app-shell { padding-left:98px; }
  body.nav-right .app-shell { padding-right:98px; }
}


body.nav-compact .tab { padding: 9px 8px; font-size: .9em; font-weight: 600; }
body.nav-compact.nav-left .bottom-nav,
body.nav-compact.nav-right .bottom-nav { width: 80px; }
body.nav-compact.nav-left .app-shell { padding-left: 96px; }
body.nav-compact.nav-right .app-shell { padding-right: 96px; }
